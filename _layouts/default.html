<!DOCTYPE html>
<html lang="es-MX">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}"/>
    
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  </head>
  <body>
    <!-- Layout con Sidebar -->
    <div class="layout-container">
             
      <!-- Sidebar de Navegaci√≥n -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <div class="logo-container">
            <div class="logo-box">
            <img src="{{ site.baseurl }}/assets/images/Logo.jpg" 
                alt="Logo Diesel Global" 
                class="logo-img">
            </div>
            <div>
              <h2 class="company-name">Diesel Global</h2>
              <h2 class="company-name" style="color: #E5F3F5;">Diesel Global</h2>
              <p class="company-subtitle">Logistics</p>
            </div>
          </div>
        </div>
        
        <nav class="sidebar-nav">
          {% for item in site.navigation %}
          <div class="nav-item">
            {% if item.children %}
              <button class="nav-button has-children" onclick="toggleMenu('{{ item.id }}')">
                <span class="nav-icon">üìÅ</span>
                <span class="nav-title">{{ item.title }}</span>
                <span class="chevron" id="chevron-{{ item.id }}">‚ñ∂</span>
              </button>
              <div class="nav-children" id="menu-{{ item.id }}" style="display: none;">
                {% for child in item.children %}
                <a href="{{ child.url | relative_url }}" class="nav-child-link">{{ child.title }}</a>
                {% endfor %}
              </div>
            {% else %}
              <a href="{{ item.url | relative_url }}" class="nav-button">
                <span class="nav-icon">üìÑ</span>
                <span class="nav-title">{{ item.title }}</span>
              </a>
            {% endif %}
          </div>
          {% endfor %}
        </nav>
        
        <div class="sidebar-footer">
          <p>&copy; 2025 Diesel Global Logistics Inc.</p>
          <p>Versi√≥n {{ site.project.version }}</p>
        </div>
      </aside>
      
      <!-- Contenido Principal -->
      <div class="main-wrapper">
        <header class="main-header">
          <button class="toggle-button" onclick="toggleSidebar()" aria-label="Toggle menu">‚ò∞</button>
          <h1 class="header-title">Documentaci√≥n del Proyecto</h1>
        </header>
        
        <main class="main-content">
          <div class="content-card">
            {{ content }}
          </div>
        </main>
      </div>
    </div>

    <script>
      // Toggle del Sidebar
      function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('sidebar-closed');
      }
      
      // Toggle de men√∫s desplegables
      function toggleMenu(menuId) {
        const menu = document.getElementById('menu-' + menuId);
        const chevron = document.getElementById('chevron-' + menuId);
        
        if (menu.style.display === 'none' || menu.style.display === '') {
          menu.style.display = 'block';
          chevron.style.transform = 'rotate(90deg)';
        } else {
          menu.style.display = 'none';
          chevron.style.transform = 'rotate(0deg)';
        }
      }
      
      // Cerrar sidebar en m√≥vil al hacer clic fuera
      document.addEventListener('click', function(event) {
        const sidebar = document.getElementById('sidebar');
        const toggleButton = document.querySelector('.toggle-button');
        
        if (window.innerWidth <= 768 && 
            !sidebar.contains(event.target) && 
            !toggleButton.contains(event.target) &&
            !sidebar.classList.contains('sidebar-closed')) {
          sidebar.classList.add('sidebar-closed');
        }
      });
      
      // Resaltar elemento activo en el men√∫
      document.addEventListener('DOMContentLoaded', function() {
        const currentPath = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-button, .nav-child-link');
        
        navLinks.forEach(link => {
          const linkPath = link.getAttribute('href');
          if (linkPath && currentPath.includes(linkPath)) {
            link.classList.add('active');
            
            // Si es un hijo, expandir el men√∫ padre
            const parentMenu = link.closest('.nav-children');
            if (parentMenu) {
              parentMenu.style.display = 'block';
              const menuId = parentMenu.id.replace('menu-', '');
              const chevron = document.getElementById('chevron-' + menuId);
              if (chevron) {
                chevron.style.transform = 'rotate(90deg)';
              }
            }
          }
        });
      });
    </script>
  </body>
</html>